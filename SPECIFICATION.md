Claude Code CLIのカスタムコマンド開発に関するドキュメントを作成させていただきます。プロジェクト内のコードを解析して必要な図を自動生成するインテリジェントなツールの仕様書となります。Claude Code CLIのカスタムコマンド開発用のドキュメントを作成いたしました。

## 作成内容の概要

### 1. **仕様書（Markdownファイル）**
包括的な仕様書には以下が含まれています：
- AIへの具体的なプロンプトテンプレート
- 6つのフェーズに分けた詳細なTODOリスト
- 実装プロンプトの具体例
- バージョン管理仕様（東京時間対応）
- エラーハンドリング戦略
- コマンドライン使用例

### 2. **設定ファイル（YAML）**
完全な設定ファイルには以下が含まれています：
- 図種別ごとの詳細な判定基準
- ファイル命名規則とディレクトリ構造
- AI統合設定（Claude API連携）
- バージョン管理とタイムスタンプ設定
- キャッシュ、ログ、品質チェック機能

## 主要機能

このシステムは以下の特徴を持ちます：

1. **自動判定機能**: コード内容から必要な図を自動で判定
2. **複数図種対応**: ER図、クラス図、シーケンス図など8種類の図に対応
3. **バージョン管理**: 東京時間でのタイムスタンプとセマンティックバージョニング
4. **インクリメンタル更新**: 変更があったファイルのみを対象とした効率的な更新

## 次のステップ

1. このドキュメントをプロジェクトのルートディレクトリに配置
2. YAMLファイルを`config/diagram-generator.yaml`として保存
3. Claude Code CLIでカスタムコマンドとして登録
4. TODOリストに従って段階的に実装を進める

これらのドキュメントを使用して、AIペアプログラミングで効率的に開発を進めることができます。ご質問や追加のカスタマイズが必要な場合は、お知らせください。


拡張された図形式に対応するよう、ドキュメントを更新いたします。拡張された図形式に対応するようドキュメントを更新いたしました。

## 主な更新内容

### 1. **出力形式の拡張**
- Mermaid、PlantUML、Draw.io形式の3つすべてに対応
- 各図種別で複数フォーマットの同時出力が可能
- フォーマット間の相互変換機能を追加

### 2. **対応図種の大幅拡張（全30種類以上）**

#### 構造図
- ER図、クラス図、コンポーネント図
- **新規追加**: 配置図、パッケージ図

#### 振る舞い図  
- フロー図、アクティビティ図、シーケンス図
- **新規追加**: ステートチャート図、ユースケース図、コミュニケーション図、タイミング図

#### システム設計図
- **新規追加**: システム構成図、ネットワーク図、データフロー図、制御フロー図、コンテキスト図

#### UI設計図
- **新規追加**: 画面遷移図、ワイヤーフレーム、モックアップ、サイトマップ

#### 分析・管理図
- **新規追加**: CRUD図、マトリックス図、ドメインモデル図、プロセス図、決定表、決定木
- **新規追加**: 組織図、ガントチャート、PERT図

### 3. **ディレクトリ構造の詳細化**
各図種別に専用のディレクトリを作成し、体系的に管理できる構造に更新しました。

### 4. **自動判定基準の充実**
各図種に対して、コード内のパターンやトリガーとなる要素を詳細に定義し、より精度の高い自動判定が可能になりました。

## 実装のポイント

このシステムにより、以下が実現されます：

1. **包括的なドキュメント生成**: プロジェクトのあらゆる側面を可視化
2. **マルチフォーマット対応**: 用途に応じた最適な形式での出力
3. **自動判定による効率化**: AIがコードを解析し、必要な図を自動選択
4. **バージョン管理**: すべての図に東京時間のタイムスタンプとバージョン番号を付与

これらの設定により、プロジェクトの技術文書を包括的かつ効率的に生成・管理できるシステムが構築できます。


